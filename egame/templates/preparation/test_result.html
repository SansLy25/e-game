{% extends "base.html" %}

{% block title %}Результаты{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8 px-6 pb-6 bg-gray-900 rounded-lg" style="color: #FFFFFF;">
    <h2 class="text-2xl font-bold mb-6 text-center">
        {{ test.title }}
    </h2>

    <table class="w-full text-left border-collapse">
        <thead>
            <tr class="bg-gray-800">
                <th class="py-3 px-4 border-b border-gray-700">Вопрос</th>
                <th class="py-3 px-4 border-b border-gray-700">Ваш ответ</th>
                <th class="py-3 px-4 border-b border-gray-700">Правильный ответ</th>
                <th class="py-3 px-4 border-b border-gray-700">Статус</th>
            </tr>
        </thead>
        <tbody>
            {% for task_id, data in answers.items %}
            <tr class="odd:bg-gray-800 even:bg-gray-700">
                <td class="py-3 px-4 border-b border-gray-700 text-gray-200">{{ data.question }}</td>
                <td class="py-3 px-4 border-b border-gray-700 text-gray-200">{{ data.user_answer }}</td>
                <td class="py-3 px-4 border-b border-gray-700 text-gray-200">{{ data.correct_answer }}</td>
                <td class="py-3 px-4 border-b border-gray-700 text-center">
                    {% if data.user_answer == data.correct_answer %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round"
                            class="lucide lucide-checkcircle w-5 h-5 text-green-400">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9 12l2 2 4-4"></path>
                        </svg>
                    {% else %}
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" class="lucide lucide-xcircle w-5 h-5 text-red-400">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="m15 9-6 6"></path>
                            <path d="m9 9 6 6"></path>
                        </svg>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class=" py-3 mt-6 text-center">
        <a href="{% url 'preparation:test_list' test.exam.slug %}"
           class="inline-block px-6 py-2 text-lg font-semibold rounded-lg shadow-sm bg-gray-800 hover:bg-gray-700 transition"
           style="color: #FFFFFF; border: 1px solid #4a148c;">
            Обратно к тестам
        </a>
    </div>
</div>
{% endblock %}